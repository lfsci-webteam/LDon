<html>
<head>
	<title>Don's Test!</title>
	<meta charset="utf-8">
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<title></title>



	<link rel="stylesheet" href="css/jquery.mobile-1.3.1.min.css">

	<!-- Extra Codiqa features -->
	<link rel="stylesheet" href="codiqa.ext.css">

	<!-- jQuery and jQuery Mobile -->
	<script src="js/jquery-1.9.1.min.js"></script>
	<script src="js/jquery.mobile-1.3.1.min.js"></script>

	<!-- Extra Codiqa features -->
	<script src="js/codiqa2.ext.js"></script>

	<meta name="viewport" content="width=device-width, initial-scale=1.0, target-densitydpi=medium-dpi, user-scalable=1" />
	<script type="text/javascript" src="phonegap.js"></script>
	<script>
		var records = new Array();

		var width = screen.width
		var height = screen.height

		function Record(inTime, inPrice, inName) {
			this.purchaseTime = inTime;
			this.purchasePrice = inPrice;
			this.name = inName;
			this.fees = 0;
			this.saleTime = null;
			this.salePrice = null;
		}

		$(document).ready(function () {
			records.push(new Record(new Date(), 1000, "Old Rusty Shoe"));
			records.push(new Record(new Date(), 2000, "Two Old Rusty Shoes"));
			records.push(new Record(new Date(), 2000, "New Rusty Shoe"));
			records.push(new Record(new Date(), 2000, "Ancient Shiny Shoe"));
			records.push(new Record(new Date(), 2000, "Leather Shoe"));
			records.push(new Record(new Date(), 2000, "Impossible Shoe"));
			records.push(new Record(new Date(), 2000, "Useful Shoe"));
			records.push(new Record(new Date(), "64-bit Integer Overflow Error", "Kevin's Beard"));
			UpdateTable();
			$("#btnAddRecord").click(function () {
				switch ($("#btnAddRecord").text()) {
					case "Add New Record":
						$("#btnAddRecord .ui-btn-text").text("Submit");
						$("#divDetails").slideDown();
						break;
					case "Submit":
						if ($("#inName").val() != "")
							records.push(new Record(new Date(), parseInt($("#inPrice").val()), $("#inName").val()));
						UpdateTable();
						$("#inPrice").val("");
						$("#inName").val("");
						$("#btnAddRecord .ui-btn-text").text("Add New Record");
						$("#divDetails").slideUp();
						break;
				}
				//$("#divDetails").slideToggle();
			});
		});

		function UpdateTable() {
			$("#tblRecords").empty();
			for (i = 0; i < records.length; i++) {
				$("#tblRecords").append("<tr><td>" + records[i].name + "</td><td>" + records[i].purchasePrice + "</tr>")
			}
		}

		//function doOnOrientationChange() {
		//	switch (window.orientation) {
		//		case -90:
		//		case 90:
		//			$("#divList").height(width - 125);
		//			break;
		//		default:
		//			$("#divList").height(height - 125);
		//			break;
		//	}
		//}

		//window.addEventListener('orientationchange', doOnOrientationChange);
	</script>
	<style type="text/css">
		#divDetails {
			display: none;
			margin: 10px;
		}

		#divAdd {
			position: fixed;
			bottom: 0px;
			margin: 0 auto;
			width: 100%;
			background-color: #FFF;
			border: 1px solid #AAA;
		}

		#divList {
			height: 400px;
			overflow-y: scroll;
			overflow-x: hidden;
			border: 1px solid #AAA;
		}
	</style>
</head>
<body>
	<h1>GW2 Finances</h1>
	<table id="tblRecords">
		<tr>
			<td></td>
		</tr>
	</table>
	<div style="height: 100px">
		&nbsp;
	</div>
	<div id="divAdd">
		<div id="divDetails">
			Item Name:
			<input id="inName" type="text" />
			Price:
			<input id="inPrice" type="text" />
		</div>
		<!--<button id="btnAddRecord" class="actionButton">Add New</button>-->
		<a id="btnAddRecord" style="margin: 10px" data-role="button">Add New Record</a>
	</div>
</body>
</html>
